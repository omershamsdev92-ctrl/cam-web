<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>برج المراقبة | WatchTower</title>
    <link rel="stylesheet" href="css/style.css?v=9.0">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
</head>

<body>
    <!-- Login Gate -->
    <div id="login-gate" class="login-overlay">
        <div class="login-card" style="border-top: 4px solid var(--primary);">
            <div
                style="display: inline-flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 20px;">
                <ion-icon name="radio-outline" style="font-size: 3rem; color: var(--primary);"></ion-icon>
            </div>
            <h2 style="font-weight: 800;">برج المراقبة</h2>
            <p style="color: var(--text-muted); margin-bottom: 20px; font-size: 0.9rem;">نظام الأمن المركزي المتكامل</p>
            <input type="password" id="pass-input" class="login-input" placeholder="كلمة المرور">
            <button id="login-btn" class="btn" style="width: 100%;">دخول للنظام</button>
            <button onclick="localStorage.clear(); location.reload();"
                style="background:none; border:none; color:var(--text-muted); font-size:0.7rem; margin-top:20px; cursor:pointer; text-decoration:underline;">إعادة
                ضبط الإعدادات</button>
        </div>
    </div>

    <div class="container">
        <header>
            <div class="logo" style="display: flex; align-items: center; gap: 12px;">
                <div
                    style="background: rgba(59, 130, 246, 0.1); padding: 8px; border-radius: 12px; border: 1px solid rgba(59, 130, 246, 0.3);">
                    <ion-icon name="radio" style="font-size: 1.5rem; color: var(--primary);"></ion-icon>
                </div>
                <div style="display: flex; flex-direction: column; line-height: 1.2;">
                    <span style="font-weight: 800; font-size: 1.1rem; letter-spacing: -0.5px;">برج المراقبة</span>
                    <span
                        style="font-size: 0.65rem; color: var(--text-muted); letter-spacing: 1px; font-family: monospace;">WATCHTOWER
                        SYS</span>
                </div>
            </div>
            <button id="install-pwa-btn" class="btn" style="padding: 10px 20px; font-size: 0.85rem; display: none;">
                <ion-icon name="download-outline"></ion-icon> تثبيت النظام
            </button>
        </header>

        <section class="hero">
            <h1>حول هاتفك القديم إلى <br> <span style="color: var(--primary);">منظومة مراقبة</span> ذكية</h1>
            <p>حل آمن، فوري، ومشفر لمراقبة أطفالك وممتلكاتك من أي مكان في العالم عبر المتصفح مباشرة.</p>

            <div
                style="background: var(--glass); padding: 40px; border-radius: 30px; border: 1px solid var(--glass-border); display: inline-block; width: 100%; max-width: 500px; text-align: center;">
                <div style="margin-bottom: 20px;">
                    <label
                        style="display: block; text-align: right; margin-bottom: 10px; color: var(--text-muted); font-size: 0.9rem;">اسم
                        الجلسة (اختياري):</label>
                    <input type="text" id="custom-session" class="login-input" style="margin: 0; font-size: 1rem;"
                        placeholder="مثلاً: kids-room">
                </div>
                <button id="createable" class="btn" style="width: 100%; margin-bottom: 12px;">
                    <ion-icon name="play-circle" style="font-size: 1.4rem;"></ion-icon> ابدأ المراقبة بالفيديو
                </button>
                <button id="create-audio-only" class="btn" style="width: 100%; background: var(--accent);">
                    <ion-icon name="mic-circle" style="font-size: 1.4rem;"></ion-icon> إنشاء رابط مراقبة صوتية فقط
                </button>
            </div>
        </section>

        <!-- Features -->
        <!-- Features Grid -->
        <div class="btn-grid"
            style="grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 40px;">
            <!-- 1. Live Video -->
            <div class="controls-panel" style="text-align: center; border-bottom: 3px solid var(--primary);">
                <ion-icon name="videocam-outline" style="font-size: 2.5rem; color: var(--primary);"></ion-icon>
                <h3 style="margin: 15px 0;">بث مباشر HD</h3>
                <p style="font-size: 0.85rem; color: var(--text-muted);">نقل فيديو وصوت عالي الجودة مع تأخير شبه معدوم.
                </p>
            </div>

            <!-- 2. GPS Tracking -->
            <div class="controls-panel" style="text-align: center; border-bottom: 3px solid #f43f5e;">
                <ion-icon name="location-outline" style="font-size: 2.5rem; color: #f43f5e;"></ion-icon>
                <h3 style="margin: 15px 0;">تحديد الموقع GPS</h3>
                <p style="font-size: 0.85rem; color: var(--text-muted);">تتبع موقع الجهاز بدقة عالية وعرضه على الخريطة.
                </p>
            </div>

            <!-- 3. SMS System -->
            <div class="controls-panel" style="text-align: center; border-bottom: 3px solid #10b981;">
                <ion-icon name="chatbubble-ellipses-outline" style="font-size: 2.5rem; color: #10b981;"></ion-icon>
                <h3 style="margin: 15px 0;">رسائل الطوارئ</h3>
                <p style="font-size: 0.85rem; color: var(--text-muted);">إرسال رسائل SMS لطلب المساعدة من جهاز المراقبة.
                </p>
            </div>

            <!-- 4. Sound Alerts -->
            <div class="controls-panel" style="text-align: center; border-bottom: 3px solid #8b5cf6;">
                <ion-icon name="volume-high-outline" style="font-size: 2.5rem; color: #8b5cf6;"></ion-icon>
                <h3 style="margin: 15px 0;">تنبيهات صوتية</h3>
                <p style="font-size: 0.85rem; color: var(--text-muted);">نظام إنذار صوتي فوري عند انقطاع الاتصال.</p>
            </div>

            <!-- 5. Privacy -->
            <div class="controls-panel" style="text-align: center; border-bottom: 3px solid var(--accent);">
                <ion-icon name="shield-checkmark-outline" style="font-size: 2.5rem; color: var(--accent);"></ion-icon>
                <h3 style="margin: 15px 0;">حماية كاملة</h3>
                <p style="font-size: 0.85rem; color: var(--text-muted);">تشفير طرف لطرف (P2P). بياناتك لا تمر عبر
                    السيرفر.</p>
            </div>

            <!-- 6. Cross Platform -->
            <div class="controls-panel" style="text-align: center; border-bottom: 3px solid #fbbf24;">
                <ion-icon name="phone-portrait-outline" style="font-size: 2.5rem; color: #fbbf24;"></ion-icon>
                <h3 style="margin: 15px 0;">يعمل على أي جهاز</h3>
                <p style="font-size: 0.85rem; color: var(--text-muted);">متوافق مع جميع الهواتف والمتصفحات دون تثبيت.
                </p>
            </div>
        </div>

        <!-- Premium Subscription Section -->
        <section class="footer-section">
            <h2 style="font-size: 2.2rem; font-weight: 900; margin-bottom: 10px;">انضم إلى <span
                    style="color: var(--primary);">المحترفين</span></h2>
            <p style="color: var(--text-muted); max-width: 600px; margin: 0 auto 40px auto;">احصل على كامل الصلاحيات
                والتحكم المطلق في منظومتك الأمنية من خلال اشتراك سنوي رمزي.</p>

            <div class="pricing-grid">
                <div class="pricing-card">
                    <h3 style="color: var(--text-muted); font-size: 1rem;">الاشتراك السنوي</h3>
                    <div class="price-tag">50 <span>ريال / سنة</span></div>
                    <ul style="text-align: right; margin: 30px 0; list-style: none; padding: 0;">
                        <li style="margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                            <ion-icon name="checkmark-circle" style="color: var(--accent);"></ion-icon> دعم فني متواصل
                            24/7
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                            <ion-icon name="checkmark-circle" style="color: var(--accent);"></ion-icon> عدد غير محدود من
                            الجلسات
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                            <ion-icon name="checkmark-circle" style="color: var(--accent);"></ion-icon> جودة بث فائقة
                            السرعة
                        </li>
                        <li style="margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                            <ion-icon name="checkmark-circle" style="color: var(--accent);"></ion-icon> تخزين سحابي
                            للصور الملتقطة
                        </li>
                    </ul>
                    <a href="mailto:admin@example.com?subject=طلب اشتراك جديد في برج المراقبة" class="btn"
                        style="width: 100%;">اطلب اشتراكك الآن</a>
                </div>
            </div>

            <!-- How it works -->
            <div style="margin-top: 60px;">
                <h3 style="margin-bottom: 30px; font-weight: 800;">خطوات تفعيل الحساب</h3>
                <div class="steps-container">
                    <div class="step-card">
                        <div class="step-number">1</div>
                        <h4 style="margin-bottom: 10px;">التواصل مع الإدارة</h4>
                        <p style="font-size: 0.8rem; color: var(--text-muted);">راسلنا عبر البريد الإلكتروني المذكور في
                            الأسفل لطلب بيانات التحويل.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">2</div>
                        <h4 style="margin-bottom: 10px;">تأكيد الدفع</h4>
                        <p style="font-size: 0.8rem; color: var(--text-muted);">أرسل صورة من إيصال التحويل البنكي أو
                            وسيلة الدفع المحلية المختارة.</p>
                    </div>
                    <div class="step-card">
                        <div class="step-number">3</div>
                        <h4 style="margin-bottom: 10px;">استلام البيانات</h4>
                        <p style="font-size: 0.8rem; color: var(--text-muted);">خلال أقل من ساعة، سنرسل لك اسم المستخدم
                            وكلمة المرور الخاصة بك.</p>
                    </div>
                </div>
            </div>

            <!-- Terms & Content -->
            <div class="terms-container">
                <h3 style="margin-bottom: 25px; border-bottom: 1px solid var(--glass-border); padding-bottom: 10px;">
                    الشروط والأحكام وخصوصية الموقع</h3>

                <div class="terms-item">
                    <ion-icon name="shield-half-outline"></ion-icon>
                    <div>
                        <h4 style="margin-bottom: 5px;">البند الأول: نظام الاشتراك والدفع</h4>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">الموقع يقدم خدمة مدفوعة باشتراك سنوي
                            واحد بسعر رمزي. يضمن لك هذا الاشتراك استمرارية الخدمة، التحديثات الدورية، وحماية بياناتك
                            بشكل كامل دون أي رسوم خفية إضافية.</p>
                    </div>
                </div>

                <div class="terms-item">
                    <ion-icon name="cube-outline"></ion-icon>
                    <div>
                        <h4 style="margin-bottom: 5px;">البند الثاني: محتويات وإمكانيات المنظومة</h4>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">
                            توفر منظومة <strong>برج المراقبة</strong> تجربة أمنية متكاملة تشمل:
                            بث الفيديو المباشر في الخلفية، خاصية "وضع التخفي" لقفل الشاشة أثناء التصوير، تتبع جغرافي
                            دقيق عبر الأقمار الصناعية، نظام مراسلة فورية للطوارئ (SMS)، وإمكانية التقاط الصور وتصفح
                            ملفات الجهاز عن بُعد. كل هذا يتم عبر بروتوكولات تشفير P2P لضمان أعلى مستويات الخصوصية.
                        </p>
                    </div>
                </div>

                <div class="terms-item">
                    <ion-icon name="heart-outline"></ion-icon>
                    <div>
                        <h4 style="margin-bottom: 5px;">البند الثالث: الاستخدام المسؤول</h4>
                        <p style="font-size: 0.85rem; color: var(--text-muted);">الموقع مُعد للاستخدام في مراقبة
                            الأطفال، كبار السن، أو تأمين الممتلكات الشخصية. يُمنع منعاً باتاً استخدامه في أي أغراض تخالف
                            القوانين المحلية أو تنتهك خصوصية الآخرين دون علمهم.</p>
                    </div>
                </div>

                <div style="margin-top: 40px; text-align: center;">
                    <a href="mailto:admin@example.com" class="contact-badge">
                        <ion-icon name="mail-outline"></ion-icon>
                        <span>للدعم والاستفسارات: admin@example.com</span>
                    </a>
                </div>
            </div>

            <p style="font-size: 0.7rem; color: var(--text-muted); margin-top: 40px;">&copy; 2026 برج المراقبة - جميع
                الحقوق محفوظة</p>
        </section>
    </div>

    <!-- Scripts -->
    <script type="module">
        import { HomeSystem } from './js/home.js';
        const app = new HomeSystem();
        document.getElementById('login-btn').onclick = () => app.checkPassword();
    </script>
</body>

</html>